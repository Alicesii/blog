---
title: 2018-09-19日报之手机摄像模组图像质量规范(3)
comments: true
date: 2018-09-19 19:29:30
categories: 博客列表
tags: Camera tuning小组日报
about:

---

## 11.信噪比测试

### 11.1.相关的概念

#### 11.1.1.信噪比的定义

* 信噪比中的“信”指信号本身，是有用部分;“噪”指由外界干扰或设备自身因素而产生的噪声。

* 信号传输过程中的各种干扰，或者设备发热都可产生噪声，这些噪声与信号本身无关，也就是说噪声的功率不以有效信号的强弱而变化。

#### 11.1.2.信噪比和噪声的功率之间的关系

信噪比=10㏒(Ps/Pn)，其中Ps代表信号，Pn代表噪声的有效功率，信噪比的单位是(dB)。

一般来说，对于固定的系统，噪声的功率一般是恒定的。信噪比越高，信号中的有用成分越多，噪声越少，说明信号的质量越好；若信噪比越低，信号中的噪声越多，说明信号质量越差。

#### 11.1.3.提高信噪比的方法

* 提高信号本身的幅度，也就是合适的增加曝光量，画面亮部的噪波要明显小于暗部的噪波。

* 降低摄影系统自身产生的噪音。

#### 11.1.4.噪点

图像噪声（image noise是图像中一种亮度或颜色信息的随机变化(被拍摄物体本身并没有)，通常是电子噪声的表现。它一般是由扫描仪或数码相机的传感器和电路产生的，也可能是受胶片颗粒或者理想光电探测器中不可避免的的散粒噪声影响产生的。图像噪声是图像拍摄过程中不希望存在的副产品，给图像带来了错误和额外的信息。

噪点，形象的来说就像是图片被弄脏了，布满一些细小的糙点，也就是会出现图像中原本没有的颜色(假色)，这种假色就说噪点。

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_50.png)

#### 11.1.5.曝光时间和曝光量

曝光时间是为了将光投射到照相感光材料的感光面上，快门所要打开的时间。若曝光时间较长，适合光线条件较差的情况，若曝光时间较短，则适合光线较高的情况。

`曝光量=照度*时间`，照度由光圈决定，时间由快门控制，也就是说曝光量由光圈和快门共同决定。

### 11.2.目的

测试拍照系统的Noise程度

### 11.3.所需要的工具

24色卡、大光源、色温照度计

### 11.4.信噪比的计算方法

#### 11.4.1.第一种方法

将拍摄到的24色卡的图片导入Imatest软件，选择按钮[Colorcheck]之后，根据客户的要求设置一些参数值，Imatest软件自动分析，我们从结果中可以得到需求的值。

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_51.png)

注意：如果想要得到信噪比的值，必须在导入图片之后出现的弹出框中做一下设置。

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_52.png)

#### 11.4.2.第二种方法

SNR=20㏒10((S19-S24)/N22)

S19、S24分别表示为第19，第24灰阶块的信号亮度值，而N22表示第22灰阶块的噪声值。

### 11.5.信噪比判断标准

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_57.png)

## 12. TV Distortion(畸变)测试

## 12.1.定义

畸变是一种可以把直线变成曲线的像差，广角镜头、变焦镜头，远距镜头容易造成严重的畸变，在图像的边缘切线尤其的明显。

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_53.png)

### 12.2.目的

测试拍照系统成像是否发生畸变。

### 12.3.所需要的工具

大光源、色温照度计、棋盘格

### 12.4.畸变的测试方法

#### 12.4.1.第一种方法

将拍摄到的棋盘格 charts的图片导入Imatest软件，选择按钮[Distortion]之后，选择自己感兴趣的区域，根据客户的要求设置一些参数值，Imatest软件自动分析，我们从结果中可以得到需求的值。

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_54.png)
青色和红色的线表示校正后的水平和垂直线，青色和红色的箭头示意畸变方向

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_55.png)
上图显示了畸变在半径方向造成的改变△r，△r指的是归一化到中心到边角的距离。

注意：这里的感兴趣的区域指的是棋盘格中行和列是相同的，相同的行和相同的列组成的白色棋盘格与黑色棋盘格的个数是相同的，如果不满足这些条件的话，Imatest软件将不会计算出结果。

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_56.png)
红色区域代表要选择的区域

#### 12.4.2.第二种方法

畸变图像如下所示：

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_58.PNG)

计算方法：

A=(A1+A2)/2

Distortion=100(A-B)/B

### 12.5.畸变的判断标准

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_59.PNG)

## 13.最大亮度测试

### 13.1.目的

测试摄像头的最大亮度值

### 13.2.所需要的工具

大光管、灰阶卡、色温照度计

### 13.3.最大亮度的测试方法

* 第一步：将拍摄的图片导入PS中。

* 第二步：选择测试区域

* 第三步：在PS中读取数据

### 13.4.最大亮度值判定标准

最大亮度值在`205~250`之间

## 14.杂光(Flare)

### 14.1.目的

确认模组拍摄时影像画面内是否存在其它光线影像成像效果

### 14.2.所需要的工具

日光灯、被测设备

### 14.3.杂光的测试方法

* 1.将模组解像力较好的模组对准日光灯管，距离3m左右

* 2.当灯管放于画面中心时(此时为零度)，再向影像八个角落依`0度~90度`方向测试，每10度记录一张相片。

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_60.PNG)
角度

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_61.PNG)
视角内：鬼影

![ ](https://www.cnblogs.com/images/cnblogs_com/cliy-10/1299108/o_62.PNG)
视角外：杂光

### 14.4.杂光的判定标准

要求大/小角度时影像画面内必须无明显杂光/鬼影产生。

## 15.总结

* 1.分辨率低的太多就需要换镜头了，分辨率第一点就可以调试AWB。

* 2.色彩普遍过饱和就需要调试AWB，某一个光饱和只需要调试单一的色彩就可以了。

* 3.动态范围大于8的，前面是隔行大于的，中间是挨个大于的，是因为γ线压的严重了。

* 4.动态范围大于8的小于10阶，需要调试Constrast和Gamma。

